---
const { date } = Astro.props;

// YYYY-MM-DD 形式で入力された場合、UTC 00:00:00 になる仕様。
// これを "日付のみ" とみなし、時間は "00:00" として表示する。
// それ以外の場合は JST で時間を表示する。
const isDateOnly = date.getUTCHours() === 0 && date.getUTCMinutes() === 0;

const options: Intl.DateTimeFormatOptions = {
	year: "numeric",
	month: "2-digit",
	day: "2-digit",
	hour: "2-digit",
	minute: "2-digit",
	timeZone: "Asia/Tokyo",
};
---

<time datetime={date.toISOString()}>
	{
		isDateOnly
			? date.toLocaleDateString("ja-JP", {
					year: "numeric",
					month: "2-digit",
					day: "2-digit",
					timeZone: "Asia/Tokyo",
				}) + " 00:00"
			: date.toLocaleString("ja-JP", options)
	}
</time>

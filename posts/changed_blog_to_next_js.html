<!DOCTYPE html><html lang="ja"><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png"/><link rel="manifest" href="/favicon/site.webmanifest"/><link rel="mask-icon" href="/favicon/safari-pinned-tab.svg" color="#000000"/><link rel="shortcut icon" href="/favicon/favicon.ico"/><meta name="msapplication-TileColor" content="#000000"/><meta name="msapplication-config" content="/favicon/browserconfig.xml"/><meta name="theme-color" content="#000"/><link rel="alternate" type="application/rss+xml" href="/feed.xml"/><meta name="description" content="Memorandum - メモにメモ以上の価値を求めてはいけない"/><meta property="og:image" content="/ogp-image-default.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:site" content="@Nagatani"/><title>サイトをNext.jsで作り直した | Memorandum</title><meta property="og:image" content="/ogp-image-default.png"/><meta property="og:title" content="サイトをNext.jsで作り直した | Memorandum"/><meta property="og:description"/><meta name="twitter:image" content="/ogp-image-default.png"/><meta name="twitter:title" content="サイトをNext.jsで作り直した | Memorandum"/><meta name="twitter:description"/><meta name="next-head-count" content="23"/><link rel="preload" href="/_next/static/css/ba2e1c3d24fdd852.css" as="style"/><link rel="stylesheet" href="/_next/static/css/ba2e1c3d24fdd852.css" data-n-g=""/><link rel="preload" href="/_next/static/css/3b03f5b7a6349635.css" as="style"/><link rel="stylesheet" href="/_next/static/css/3b03f5b7a6349635.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-69bfa6990bb9e155.js" defer=""></script><script src="/_next/static/chunks/framework-5f4595e5518b5600.js" defer=""></script><script src="/_next/static/chunks/main-f65e66e62fc5ca80.js" defer=""></script><script src="/_next/static/chunks/pages/_app-ebc9320d2ff492e3.js" defer=""></script><script src="/_next/static/chunks/202-8f871a77b833aa0a.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bslug%5D-2fc6c14e3da4c0d4.js" defer=""></script><script src="/_next/static/kcg8mg8IB7L_8_IWEhJmn/_buildManifest.js" defer=""></script><script src="/_next/static/kcg8mg8IB7L_8_IWEhJmn/_ssgManifest.js" defer=""></script><script src="/_next/static/kcg8mg8IB7L_8_IWEhJmn/_middlewareManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><div class="layout"><div class="border-b bg-neutral-50 border-neutral-200"><div class="container"><div class=""></div></div></div><main><div class="container"><section class="post-header"><h2><a class="hover:underline" href="/">Memorandum</a></h2></section><article class="znc"><h1 class="postTitle">サイトをNext.jsで作り直した</h1><div class="date"><time dateTime="2022-06-03T16:58:25+09:00">June	3, 2022</time></div><div class="postBody"><div class="markdown-styles_markdown__h_8de"><h2 id="%E3%81%8D%E3%81%A3%E3%81%8B%E3%81%91"><a class="header-anchor-link" href="#%E3%81%8D%E3%81%A3%E3%81%8B%E3%81%91" aria-hidden="true"></a> きっかけ</h2>
<p>誰だって適当な文章書きたいときあるよね</p>
<p>で、だらだらと適当な文章を書きたいときに使うちょうど良いサイトがなかったので、完全に放置されてたこのサイト、技術的な記事を書いていたものを思い切って作り直した。</p>
<h2 id="%E4%BD%BF%E3%81%A3%E3%81%9F%E3%82%82%E3%81%AE"><a class="header-anchor-link" href="#%E4%BD%BF%E3%81%A3%E3%81%9F%E3%82%82%E3%81%AE" aria-hidden="true"></a> 使ったもの</h2>
<ul>
<li><a href="https://github.com/vercel/next.js/tree/canary/examples/blog-starter-typescript" target="_blank" rel="nofollow noopener noreferrer">next.js/examples/blog-starter-typescript at canary · vercel/next.js</a></li>
</ul>
<h3 id="%E6%8A%80%E8%A1%93%E9%81%B8%E5%AE%9A%E3%81%AE%E8%A9%B1"><a class="header-anchor-link" href="#%E6%8A%80%E8%A1%93%E9%81%B8%E5%AE%9A%E3%81%AE%E8%A9%B1" aria-hidden="true"></a> 技術選定の話</h3>
<p>要件としては、以下の通り。</p>
<ol>
<li>Markdownで記事が書きたい</li>
<li>GitHub Pagesで公開したい</li>
<li>WordPress滅んでほしい</li>
<li>なんか技術的なことでプラスになるような構築できたら嬉しい</li>
</ol>
<p>という感じ。</p>
<p>別に前のままで適当なの書けばいいじゃん。って言われるかもしれないんだけど、Hugoで構築されていた以前のこのサイト、まぁ悪くはなかった。<br>
だけど、最近まったくと言っていいほどGoを書いていないので、Goで書かれたシステムのメンテナンス辛いなーという気持ちもある。</p>
<p>最初は Facebookが開発元のドキュメント管理ツールみたいな Docusaurus がリリース楽にできた気がするので、これでブログだけ書くようにすればいっかなって思ってた。<br>
でもいざ blog-only-mode にするかーってなったら、公式ドキュメントにある手順をやってもエラーで先に進めなくなった。<br>
いろいろ調べたところ、エラーの原因となっている箇所がコアの部分にあって開発側も既知なんだけど、修正後回しになってるってIssueがあって、そっかーじゃあ使うのやめるかー回避策手間かかるっぽいしってなった次第。</p>
<p>ブログじゃなくて、ドキュメントを書くのは Docusaurus とても便利なのでおすすめ。<br>
残念ながら、今回は僕の要件にはマッチしなかった。</p>
<ul>
<li><a href="https://docusaurus.io/" target="_blank" rel="nofollow noopener noreferrer">Build optimized websites quickly, focus on your content | Docusaurus</a></li>
</ul>
<p>Docusaurus 見てて思ったのが、そういえば仕事以外で React 使ってないな。<br>
React 使ってるブログシステムだったらよさそうかな。<br>
そうだ、 Next.js でそういうのあったな。<br>
ということで、 Next.js を使おうってなった。</p>
<p>Next.jsのblog-starterテンプレートにはCSSフレームワークのTailwindが入ってたんだけど、正直CSSフレームワーク使うのは個人的にいやかな。という思いと、Tailwind ほぼ使ったことないし学習コストが見合わないかもな。って気持ちがあって、消した。</p>
<p>実際に最小構成になるよう変更しつつ、テンプレートのコード読んでたんだけど、Tailwind外して余計なコンポーネント削除して……ってやっていたら、だいたい分かった気になれた。そもそもテンプレート使わずに初めてもよかったかもしれない。</p>
<p>しばらくはこの構成で行きたいと思う。</p>
<h2 id="%E3%81%93%E3%81%AE%E3%82%B5%E3%82%A4%E3%83%88%E3%81%AE%E4%BB%8A%E3%81%BE%E3%81%A7%E3%81%AE%E8%A8%98%E4%BA%8B%E3%81%A8%E3%80%81%E4%BB%8A%E5%BE%8C%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6"><a class="header-anchor-link" href="#%E3%81%93%E3%81%AE%E3%82%B5%E3%82%A4%E3%83%88%E3%81%AE%E4%BB%8A%E3%81%BE%E3%81%A7%E3%81%AE%E8%A8%98%E4%BA%8B%E3%81%A8%E3%80%81%E4%BB%8A%E5%BE%8C%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6" aria-hidden="true"></a> このサイトの今までの記事と、今後について</h2>
<p>今までこのサイトは、Hexo -&gt; Hugo とリニューアルしてきたんだけど、どちらも Markdown で書けるし、移行も容易だった記憶がある。</p>
<p>Next.jsで作ったこのサイトにも記事を移行しようと思えばできたんだけど、最後に記事書いたのがすでに４年前という状況なので、<br>
時間の流れが早すぎることに絶望を感じながら、これいるか？という自問自答をした結果、技術的な内容でって縛りを設けずゆるく文章書くサイトにするか。<br>
という気持ちになり心機一転、全部記事消すことにした。</p>
<p>過去に書いた記事で、今後参考になりそうなものがそもそもなかったというのもある。</p>
<p>今後は、ゆるく適当な記事を書いていきたいし、新しいこといっぱいやってきたのにそれが残ってないので、そういうのも残せるようにしたいなーと思っている。</p>
<p>詳しいことはAboutページ作ってあるのでそっちを見てほしい</p>
<ul>
<li><a href="http://nagatani.github.io/posts/about" target="_blank" rel="nofollow noopener noreferrer">About | Memorandum</a></li>
</ul>
<p>以上</p>
</div></div></article></div></main></div><footer class="footer"><div class="container"><a class="hover_underline" href="/posts/about">About this web site.</a><small>©2022- <a href="https://nagatani.me/">Nagatani</a></small></div></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"サイトをNext.jsで作り直した","date":"2022-06-03T16:58:25+09:00","slug":"changed_blog_to_next_js","content":"\u003ch2 id=\"%E3%81%8D%E3%81%A3%E3%81%8B%E3%81%91\"\u003e\u003ca class=\"header-anchor-link\" href=\"#%E3%81%8D%E3%81%A3%E3%81%8B%E3%81%91\" aria-hidden=\"true\"\u003e\u003c/a\u003e きっかけ\u003c/h2\u003e\n\u003cp\u003e誰だって適当な文章書きたいときあるよね\u003c/p\u003e\n\u003cp\u003eで、だらだらと適当な文章を書きたいときに使うちょうど良いサイトがなかったので、完全に放置されてたこのサイト、技術的な記事を書いていたものを思い切って作り直した。\u003c/p\u003e\n\u003ch2 id=\"%E4%BD%BF%E3%81%A3%E3%81%9F%E3%82%82%E3%81%AE\"\u003e\u003ca class=\"header-anchor-link\" href=\"#%E4%BD%BF%E3%81%A3%E3%81%9F%E3%82%82%E3%81%AE\" aria-hidden=\"true\"\u003e\u003c/a\u003e 使ったもの\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/vercel/next.js/tree/canary/examples/blog-starter-typescript\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003enext.js/examples/blog-starter-typescript at canary · vercel/next.js\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"%E6%8A%80%E8%A1%93%E9%81%B8%E5%AE%9A%E3%81%AE%E8%A9%B1\"\u003e\u003ca class=\"header-anchor-link\" href=\"#%E6%8A%80%E8%A1%93%E9%81%B8%E5%AE%9A%E3%81%AE%E8%A9%B1\" aria-hidden=\"true\"\u003e\u003c/a\u003e 技術選定の話\u003c/h3\u003e\n\u003cp\u003e要件としては、以下の通り。\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eMarkdownで記事が書きたい\u003c/li\u003e\n\u003cli\u003eGitHub Pagesで公開したい\u003c/li\u003e\n\u003cli\u003eWordPress滅んでほしい\u003c/li\u003e\n\u003cli\u003eなんか技術的なことでプラスになるような構築できたら嬉しい\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eという感じ。\u003c/p\u003e\n\u003cp\u003e別に前のままで適当なの書けばいいじゃん。って言われるかもしれないんだけど、Hugoで構築されていた以前のこのサイト、まぁ悪くはなかった。\u003cbr\u003e\nだけど、最近まったくと言っていいほどGoを書いていないので、Goで書かれたシステムのメンテナンス辛いなーという気持ちもある。\u003c/p\u003e\n\u003cp\u003e最初は Facebookが開発元のドキュメント管理ツールみたいな Docusaurus がリリース楽にできた気がするので、これでブログだけ書くようにすればいっかなって思ってた。\u003cbr\u003e\nでもいざ blog-only-mode にするかーってなったら、公式ドキュメントにある手順をやってもエラーで先に進めなくなった。\u003cbr\u003e\nいろいろ調べたところ、エラーの原因となっている箇所がコアの部分にあって開発側も既知なんだけど、修正後回しになってるってIssueがあって、そっかーじゃあ使うのやめるかー回避策手間かかるっぽいしってなった次第。\u003c/p\u003e\n\u003cp\u003eブログじゃなくて、ドキュメントを書くのは Docusaurus とても便利なのでおすすめ。\u003cbr\u003e\n残念ながら、今回は僕の要件にはマッチしなかった。\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://docusaurus.io/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003eBuild optimized websites quickly, focus on your content | Docusaurus\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eDocusaurus 見てて思ったのが、そういえば仕事以外で React 使ってないな。\u003cbr\u003e\nReact 使ってるブログシステムだったらよさそうかな。\u003cbr\u003e\nそうだ、 Next.js でそういうのあったな。\u003cbr\u003e\nということで、 Next.js を使おうってなった。\u003c/p\u003e\n\u003cp\u003eNext.jsのblog-starterテンプレートにはCSSフレームワークのTailwindが入ってたんだけど、正直CSSフレームワーク使うのは個人的にいやかな。という思いと、Tailwind ほぼ使ったことないし学習コストが見合わないかもな。って気持ちがあって、消した。\u003c/p\u003e\n\u003cp\u003e実際に最小構成になるよう変更しつつ、テンプレートのコード読んでたんだけど、Tailwind外して余計なコンポーネント削除して……ってやっていたら、だいたい分かった気になれた。そもそもテンプレート使わずに初めてもよかったかもしれない。\u003c/p\u003e\n\u003cp\u003eしばらくはこの構成で行きたいと思う。\u003c/p\u003e\n\u003ch2 id=\"%E3%81%93%E3%81%AE%E3%82%B5%E3%82%A4%E3%83%88%E3%81%AE%E4%BB%8A%E3%81%BE%E3%81%A7%E3%81%AE%E8%A8%98%E4%BA%8B%E3%81%A8%E3%80%81%E4%BB%8A%E5%BE%8C%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\"\u003e\u003ca class=\"header-anchor-link\" href=\"#%E3%81%93%E3%81%AE%E3%82%B5%E3%82%A4%E3%83%88%E3%81%AE%E4%BB%8A%E3%81%BE%E3%81%A7%E3%81%AE%E8%A8%98%E4%BA%8B%E3%81%A8%E3%80%81%E4%BB%8A%E5%BE%8C%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\" aria-hidden=\"true\"\u003e\u003c/a\u003e このサイトの今までの記事と、今後について\u003c/h2\u003e\n\u003cp\u003e今までこのサイトは、Hexo -\u0026gt; Hugo とリニューアルしてきたんだけど、どちらも Markdown で書けるし、移行も容易だった記憶がある。\u003c/p\u003e\n\u003cp\u003eNext.jsで作ったこのサイトにも記事を移行しようと思えばできたんだけど、最後に記事書いたのがすでに４年前という状況なので、\u003cbr\u003e\n時間の流れが早すぎることに絶望を感じながら、これいるか？という自問自答をした結果、技術的な内容でって縛りを設けずゆるく文章書くサイトにするか。\u003cbr\u003e\nという気持ちになり心機一転、全部記事消すことにした。\u003c/p\u003e\n\u003cp\u003e過去に書いた記事で、今後参考になりそうなものがそもそもなかったというのもある。\u003c/p\u003e\n\u003cp\u003e今後は、ゆるく適当な記事を書いていきたいし、新しいこといっぱいやってきたのにそれが残ってないので、そういうのも残せるようにしたいなーと思っている。\u003c/p\u003e\n\u003cp\u003e詳しいことはAboutページ作ってあるのでそっちを見てほしい\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"http://nagatani.github.io/posts/about\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003eAbout | Memorandum\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e以上\u003c/p\u003e\n"}},"__N_SSG":true},"page":"/posts/[slug]","query":{"slug":"changed_blog_to_next_js"},"buildId":"kcg8mg8IB7L_8_IWEhJmn","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>
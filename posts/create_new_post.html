<!DOCTYPE html><html lang="ja"><head><meta charSet="utf-8" data-next-head=""/><meta name="viewport" content="width=device-width" data-next-head=""/><link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png" data-next-head=""/><link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png" data-next-head=""/><link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png" data-next-head=""/><link rel="manifest" href="/favicon/site.webmanifest" data-next-head=""/><link rel="mask-icon" href="/favicon/safari-pinned-tab.svg" color="#000000" data-next-head=""/><link rel="shortcut icon" href="/favicon/favicon.ico" data-next-head=""/><meta name="msapplication-TileColor" content="#000000" data-next-head=""/><meta name="msapplication-config" content="/favicon/browserconfig.xml" data-next-head=""/><meta name="theme-color" content="#000" data-next-head=""/><link rel="alternate" type="application/rss+xml" href="/feed.xml" data-next-head=""/><meta property="og:image" content="/ogp-image-default.png" data-next-head=""/><meta name="twitter:card" content="summary" data-next-head=""/><meta name="twitter:site" content="@Nagatani" data-next-head=""/><title data-next-head=""></title><meta name="description" content="Memorandum - メモにメモ以上の価値を求めてはいけない | 新規投稿を作成するときの日付入力がめんどいので作った" data-next-head=""/><meta property="og:image" content="/ogp-image-default.png" data-next-head=""/><meta property="og:title" content="新規投稿用のファイルを作成するやつ | Memorandum" data-next-head=""/><meta property="og:description" content="Memorandum - メモにメモ以上の価値を求めてはいけない | 新規投稿を作成するときの日付入力がめんどいので作った" data-next-head=""/><meta name="twitter:image" content="/twcard.jpg" data-next-head=""/><meta name="twitter:title" content="新規投稿用のファイルを作成するやつ | Memorandum" data-next-head=""/><meta name="twitter:description" content="Memorandum - メモにメモ以上の価値を求めてはいけない | 新規投稿を作成するときの日付入力がめんどいので作った" data-next-head=""/><link rel="preload" href="/_next/static/css/07eccf6786972008.css" as="style"/><link rel="preload" href="/_next/static/css/3cc16716778c58b9.css" as="style"/><link rel="stylesheet" href="/_next/static/css/07eccf6786972008.css" data-n-g=""/><link rel="stylesheet" href="/_next/static/css/3cc16716778c58b9.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" noModule="" src="/_next/static/chunks/polyfills-42372ed130431b0a.js"></script><script src="/_next/static/chunks/webpack-47bc125f1e660795.js" defer=""></script><script src="/_next/static/chunks/framework-2f335d22a7318891.js" defer=""></script><script src="/_next/static/chunks/main-a0b91abc0375fa06.js" defer=""></script><script src="/_next/static/chunks/pages/_app-e386d372de7aca44.js" defer=""></script><script src="/_next/static/chunks/982-48594ef60d0edcd3.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bslug%5D-aed0b18e9f0e97b6.js" defer=""></script><script src="/_next/static/KkecMBZn0eRxO-9hSKnjv/_buildManifest.js" defer=""></script><script src="/_next/static/KkecMBZn0eRxO-9hSKnjv/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="layout"><div class="border-b bg-neutral-50 border-neutral-200"><div class="container"><div class=""></div></div></div><main><div class="container"><section class="post-header"><h2><a class="hover:underline" href="/">Memorandum</a></h2></section><article class="znc"><h1 class="postTitle">新規投稿用のファイルを作成するやつ</h1><div class="date"><time dateTime="2022-06-05T03:04:17+09:00">2022/06/04 18:04</time></div><div class="postBody"><div class="markdown-styles_markdown__HwUWZ"><h2 id="%E6%96%B0%E8%A6%8F%E6%8A%95%E7%A8%BF%E3%82%92%E4%BD%9C%E3%82%8B%E5%A0%B4%E5%90%88" data-line="1" class="code-line"><a class="header-anchor-link" href="#%E6%96%B0%E8%A6%8F%E6%8A%95%E7%A8%BF%E3%82%92%E4%BD%9C%E3%82%8B%E5%A0%B4%E5%90%88" aria-hidden="true"></a> 新規投稿を作る場合</h2>
<p data-line="3" class="code-line">.md のファイルを作成するぐらいなんてことはないんだけど、日付文字列を ISO8601 形式で時刻は秒までみたいなフォーマットで書くのがめんどいので、以下の Node.js で動かす JS 書いた。</p>
<div class="code-block-container"><pre class="language-js"><code class="language-js code-line" data-line="5"><span class="token keyword">const</span> filename <span class="token operator">=</span> process<span class="token punctuation">.</span><span class="token property-access">argv</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> d <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token known-class-name class-name">Date</span><span class="token punctuation">.</span><span class="token method function property-access">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">9</span> <span class="token operator">*</span> <span class="token number">3600000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> jst_date <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token method function property-access">toISOString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">split</span><span class="token punctuation">(</span><span class="token string">'Z'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token method function property-access">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex"><span class="token special-escape escape">\.</span><span class="token group punctuation">(</span><span class="token char-set class-name">\d</span><span class="token quantifier number">{3}</span><span class="token group punctuation">)</span></span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'+09:00'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> out <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">---
title: ""
date: "</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> jst_date <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">"
excerpt: ""
slag: "</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> filename <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">"
---

# </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> filename <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">

</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>

<span class="token keyword">const</span> filepath <span class="token operator">=</span> <span class="token string">"./_posts/"</span> <span class="token operator">+</span> <span class="token punctuation">(</span>filename <span class="token operator">?</span> filename <span class="token operator">:</span> <span class="token string">"new-post"</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">".md"</span><span class="token punctuation">;</span>
<span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">writeFile</span><span class="token punctuation">(</span>filepath<span class="token punctuation">,</span> out<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword control-flow">throw</span> err<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Created: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> filepath <span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="javascript%E3%81%A7-jst-%E3%81%AE-iso8601%E3%83%95%E3%82%A9%E3%83%BC%E3%83%9E%E3%83%83%E3%83%88%E3%81%AB%E5%A4%89%E6%8F%9B%E3%81%99%E3%82%8B" data-line="28" class="code-line"><a class="header-anchor-link" href="#javascript%E3%81%A7-jst-%E3%81%AE-iso8601%E3%83%95%E3%82%A9%E3%83%BC%E3%83%9E%E3%83%83%E3%83%88%E3%81%AB%E5%A4%89%E6%8F%9B%E3%81%99%E3%82%8B" aria-hidden="true"></a> JavaScriptで JST の ISO8601フォーマットに変換する</h3>
<p data-line="30" class="code-line">日付を<code>Date.now()</code>で取得するとUTCの基準時間で取得できるので、9時間ずらして、ミリ秒の<code>.000</code>の部分を削除して出来上がり。</p>
<p data-line="32" class="code-line">1行でも書けるけど、複数行に分けたほうが可読性高いと思う。</p>
<div class="code-block-container"><pre class="language-js"><code class="language-js code-line" data-line="34"><span class="token keyword">const</span> jst_date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token known-class-name class-name">Date</span><span class="token punctuation">.</span><span class="token method function property-access">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">9</span> <span class="token operator">*</span> <span class="token number">3600000</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toISOString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">split</span><span class="token punctuation">(</span><span class="token string">'Z'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token method function property-access">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex"><span class="token special-escape escape">\.</span><span class="token group punctuation">(</span><span class="token char-set class-name">\d</span><span class="token quantifier number">{3}</span><span class="token group punctuation">)</span></span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'+09:00'</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="js%E3%81%AE%E3%83%86%E3%83%B3%E3%83%97%E3%83%AC%E3%83%BC%E3%83%88%E3%83%AA%E3%83%86%E3%83%A9%E3%83%AB%E4%BE%BF%E5%88%A9" data-line="38" class="code-line"><a class="header-anchor-link" href="#js%E3%81%AE%E3%83%86%E3%83%B3%E3%83%97%E3%83%AC%E3%83%BC%E3%83%88%E3%83%AA%E3%83%86%E3%83%A9%E3%83%AB%E4%BE%BF%E5%88%A9" aria-hidden="true"></a> JSのテンプレートリテラル便利</h3>
<p data-line="40" class="code-line">まじ便利。</p>
</div></div></article></div></main></div><footer class="footer"><div class="container"><a class="hover_underline" href="/posts/about">About this web site.</a><small>©2022- <a href="https://nagatani.me/">Nagatani</a></small></div></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"新規投稿用のファイルを作成するやつ","date":"2022-06-05T03:04:17+09:00","slug":"create_new_post","content":"\u003ch2 id=\"%E6%96%B0%E8%A6%8F%E6%8A%95%E7%A8%BF%E3%82%92%E4%BD%9C%E3%82%8B%E5%A0%B4%E5%90%88\" data-line=\"1\" class=\"code-line\"\u003e\u003ca class=\"header-anchor-link\" href=\"#%E6%96%B0%E8%A6%8F%E6%8A%95%E7%A8%BF%E3%82%92%E4%BD%9C%E3%82%8B%E5%A0%B4%E5%90%88\" aria-hidden=\"true\"\u003e\u003c/a\u003e 新規投稿を作る場合\u003c/h2\u003e\n\u003cp data-line=\"3\" class=\"code-line\"\u003e.md のファイルを作成するぐらいなんてことはないんだけど、日付文字列を ISO8601 形式で時刻は秒までみたいなフォーマットで書くのがめんどいので、以下の Node.js で動かす JS 書いた。\u003c/p\u003e\n\u003cdiv class=\"code-block-container\"\u003e\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js code-line\" data-line=\"5\"\u003e\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e filename \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e process\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003eargv\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token number\"\u003e2\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e d \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eDate\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eDate\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token known-class-name class-name\"\u003eDate\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003enow\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003egetTime\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e+\u003c/span\u003e \u003cspan class=\"token number\"\u003e9\u003c/span\u003e \u003cspan class=\"token operator\"\u003e*\u003c/span\u003e \u003cspan class=\"token number\"\u003e3600000\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e jst_date \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e d\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003etoISOString\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003esplit\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e'Z'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token number\"\u003e0\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003ereplace\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token regex\"\u003e\u003cspan class=\"token regex-delimiter\"\u003e/\u003c/span\u003e\u003cspan class=\"token regex-source language-regex\"\u003e\u003cspan class=\"token special-escape escape\"\u003e\\.\u003c/span\u003e\u003cspan class=\"token group punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token char-set class-name\"\u003e\\d\u003c/span\u003e\u003cspan class=\"token quantifier number\"\u003e{3}\u003c/span\u003e\u003cspan class=\"token group punctuation\"\u003e)\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token regex-delimiter\"\u003e/\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token string\"\u003e''\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e+\u003c/span\u003e \u003cspan class=\"token string\"\u003e'+09:00'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e out \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token template-string\"\u003e\u003cspan class=\"token template-punctuation string\"\u003e`\u003c/span\u003e\u003cspan class=\"token string\"\u003e---\ntitle: \"\"\ndate: \"\u003c/span\u003e\u003cspan class=\"token interpolation\"\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e${\u003c/span\u003e jst_date \u003cspan class=\"token interpolation-punctuation punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"\nexcerpt: \"\"\nslag: \"\u003c/span\u003e\u003cspan class=\"token interpolation\"\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e${\u003c/span\u003e filename \u003cspan class=\"token interpolation-punctuation punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"\n---\n\n# \u003c/span\u003e\u003cspan class=\"token interpolation\"\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e${\u003c/span\u003e filename \u003cspan class=\"token interpolation-punctuation punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token string\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"token template-punctuation string\"\u003e`\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e filepath \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"./_posts/\"\u003c/span\u003e \u003cspan class=\"token operator\"\u003e+\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003efilename \u003cspan class=\"token operator\"\u003e?\u003c/span\u003e filename \u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"new-post\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e+\u003c/span\u003e \u003cspan class=\"token string\"\u003e\".md\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token function\"\u003erequire\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e'fs'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003ewriteFile\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003efilepath\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e out\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token parameter\"\u003eerr\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token keyword control-flow\"\u003eif\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eerr\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e \u003cspan class=\"token keyword control-flow\"\u003ethrow\u003c/span\u003e err\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"token console class-name\"\u003econsole\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003elog\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token template-string\"\u003e\u003cspan class=\"token template-punctuation string\"\u003e`\u003c/span\u003e\u003cspan class=\"token string\"\u003eCreated: \u003c/span\u003e\u003cspan class=\"token interpolation\"\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e${\u003c/span\u003e filepath \u003cspan class=\"token interpolation-punctuation punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token template-punctuation string\"\u003e`\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"javascript%E3%81%A7-jst-%E3%81%AE-iso8601%E3%83%95%E3%82%A9%E3%83%BC%E3%83%9E%E3%83%83%E3%83%88%E3%81%AB%E5%A4%89%E6%8F%9B%E3%81%99%E3%82%8B\" data-line=\"28\" class=\"code-line\"\u003e\u003ca class=\"header-anchor-link\" href=\"#javascript%E3%81%A7-jst-%E3%81%AE-iso8601%E3%83%95%E3%82%A9%E3%83%BC%E3%83%9E%E3%83%83%E3%83%88%E3%81%AB%E5%A4%89%E6%8F%9B%E3%81%99%E3%82%8B\" aria-hidden=\"true\"\u003e\u003c/a\u003e JavaScriptで JST の ISO8601フォーマットに変換する\u003c/h3\u003e\n\u003cp data-line=\"30\" class=\"code-line\"\u003e日付を\u003ccode\u003eDate.now()\u003c/code\u003eで取得するとUTCの基準時間で取得できるので、9時間ずらして、ミリ秒の\u003ccode\u003e.000\u003c/code\u003eの部分を削除して出来上がり。\u003c/p\u003e\n\u003cp data-line=\"32\" class=\"code-line\"\u003e1行でも書けるけど、複数行に分けたほうが可読性高いと思う。\u003c/p\u003e\n\u003cdiv class=\"code-block-container\"\u003e\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js code-line\" data-line=\"34\"\u003e\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e jst_date \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eDate\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eDate\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token known-class-name class-name\"\u003eDate\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003enow\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003egetTime\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e+\u003c/span\u003e \u003cspan class=\"token number\"\u003e9\u003c/span\u003e \u003cspan class=\"token operator\"\u003e*\u003c/span\u003e \u003cspan class=\"token number\"\u003e3600000\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003etoISOString\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003esplit\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e'Z'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token number\"\u003e0\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003ereplace\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token regex\"\u003e\u003cspan class=\"token regex-delimiter\"\u003e/\u003c/span\u003e\u003cspan class=\"token regex-source language-regex\"\u003e\u003cspan class=\"token special-escape escape\"\u003e\\.\u003c/span\u003e\u003cspan class=\"token group punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token char-set class-name\"\u003e\\d\u003c/span\u003e\u003cspan class=\"token quantifier number\"\u003e{3}\u003c/span\u003e\u003cspan class=\"token group punctuation\"\u003e)\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token regex-delimiter\"\u003e/\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token string\"\u003e''\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e+\u003c/span\u003e \u003cspan class=\"token string\"\u003e'+09:00'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"js%E3%81%AE%E3%83%86%E3%83%B3%E3%83%97%E3%83%AC%E3%83%BC%E3%83%88%E3%83%AA%E3%83%86%E3%83%A9%E3%83%AB%E4%BE%BF%E5%88%A9\" data-line=\"38\" class=\"code-line\"\u003e\u003ca class=\"header-anchor-link\" href=\"#js%E3%81%AE%E3%83%86%E3%83%B3%E3%83%97%E3%83%AC%E3%83%BC%E3%83%88%E3%83%AA%E3%83%86%E3%83%A9%E3%83%AB%E4%BE%BF%E5%88%A9\" aria-hidden=\"true\"\u003e\u003c/a\u003e JSのテンプレートリテラル便利\u003c/h3\u003e\n\u003cp data-line=\"40\" class=\"code-line\"\u003eまじ便利。\u003c/p\u003e\n","excerpt":"新規投稿を作成するときの日付入力がめんどいので作った"}},"__N_SSG":true},"page":"/posts/[slug]","query":{"slug":"create_new_post"},"buildId":"KkecMBZn0eRxO-9hSKnjv","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>
{"pageProps":{"post":{"title":"サイトをNext.jsで作り直した","date":"2022-06-03T16:58:25+09:00","slug":"changed_blog_to_next_js","content":"<h2 id=\"%E3%81%8D%E3%81%A3%E3%81%8B%E3%81%91\" data-line=\"1\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E3%81%8D%E3%81%A3%E3%81%8B%E3%81%91\" aria-hidden=\"true\"></a> きっかけ</h2>\n<p data-line=\"3\" class=\"code-line\">誰だって適当な文章書きたいときあるよね</p>\n<p data-line=\"5\" class=\"code-line\">で、だらだらと適当な文章を書きたいときに使うちょうど良いサイトがなかったので、完全に放置されてたこのサイト、技術的な記事を書いていたものを思い切って作り直した。</p>\n<h2 id=\"%E4%BD%BF%E3%81%A3%E3%81%9F%E3%82%82%E3%81%AE\" data-line=\"7\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E4%BD%BF%E3%81%A3%E3%81%9F%E3%82%82%E3%81%AE\" aria-hidden=\"true\"></a> 使ったもの</h2>\n<ul data-line=\"9\" class=\"code-line\">\n<li data-line=\"9\" class=\"code-line\"><a href=\"https://github.com/vercel/next.js/tree/canary/examples/blog-starter-typescript\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">next.js/examples/blog-starter-typescript at canary · vercel/next.js</a></li>\n</ul>\n<h3 id=\"%E6%8A%80%E8%A1%93%E9%81%B8%E5%AE%9A%E3%81%AE%E8%A9%B1\" data-line=\"12\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E6%8A%80%E8%A1%93%E9%81%B8%E5%AE%9A%E3%81%AE%E8%A9%B1\" aria-hidden=\"true\"></a> 技術選定の話</h3>\n<p data-line=\"14\" class=\"code-line\">要件としては、以下の通り。</p>\n<ol data-line=\"16\" class=\"code-line\">\n<li data-line=\"16\" class=\"code-line\">Markdownで記事が書きたい</li>\n<li data-line=\"17\" class=\"code-line\">GitHub Pagesで公開したい</li>\n<li data-line=\"18\" class=\"code-line\">WordPress滅んでほしい</li>\n<li data-line=\"19\" class=\"code-line\">なんか技術的なことでプラスになるような構築できたら嬉しい</li>\n</ol>\n<p data-line=\"21\" class=\"code-line\">という感じ。</p>\n<p data-line=\"23\" class=\"code-line\">別に前のままで適当なの書けばいいじゃん。って言われるかもしれないんだけど、Hugoで構築されていた以前のこのサイト、まぁ悪くはなかった。<br />\nだけど、最近まったくと言っていいほどGoを書いていないので、Goで書かれたシステムのメンテナンス辛いなーという気持ちもある。</p>\n<p data-line=\"26\" class=\"code-line\">最初は Facebookが開発元のドキュメント管理ツールみたいな Docusaurus がリリース楽にできた気がするので、これでブログだけ書くようにすればいっかなって思ってた。<br />\nでもいざ blog-only-mode にするかーってなったら、公式ドキュメントにある手順をやってもエラーで先に進めなくなった。<br />\nいろいろ調べたところ、エラーの原因となっている箇所がコアの部分にあって開発側も既知なんだけど、修正後回しになってるってIssueがあって、そっかーじゃあ使うのやめるかー回避策手間かかるっぽいしってなった次第。</p>\n<p data-line=\"30\" class=\"code-line\">ブログじゃなくて、ドキュメントを書くのは Docusaurus とても便利なのでおすすめ。<br />\n残念ながら、今回は僕の要件にはマッチしなかった。</p>\n<ul data-line=\"33\" class=\"code-line\">\n<li data-line=\"33\" class=\"code-line\"><a href=\"https://docusaurus.io/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Build optimized websites quickly, focus on your content | Docusaurus</a></li>\n</ul>\n<p data-line=\"35\" class=\"code-line\">Docusaurus 見てて思ったのが、そういえば仕事以外で React 使ってないな。<br />\nReact 使ってるブログシステムだったらよさそうかな。<br />\nそうだ、 Next.js でそういうのあったな。<br />\nということで、 Next.js を使おうってなった。</p>\n<p data-line=\"40\" class=\"code-line\">Next.jsのblog-starterテンプレートにはCSSフレームワークのTailwindが入ってたんだけど、正直CSSフレームワーク使うのは個人的にいやかな。という思いと、Tailwind ほぼ使ったことないし学習コストが見合わないかもな。って気持ちがあって、消した。</p>\n<p data-line=\"42\" class=\"code-line\">実際に最小構成になるよう変更しつつ、テンプレートのコード読んでたんだけど、Tailwind外して余計なコンポーネント削除して……ってやっていたら、だいたい分かった気になれた。そもそもテンプレート使わずに初めてもよかったかもしれない。</p>\n<p data-line=\"44\" class=\"code-line\">しばらくはこの構成で行きたいと思う。</p>\n<h2 id=\"%E3%81%93%E3%81%AE%E3%82%B5%E3%82%A4%E3%83%88%E3%81%AE%E4%BB%8A%E3%81%BE%E3%81%A7%E3%81%AE%E8%A8%98%E4%BA%8B%E3%81%A8%E3%80%81%E4%BB%8A%E5%BE%8C%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\" data-line=\"46\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E3%81%93%E3%81%AE%E3%82%B5%E3%82%A4%E3%83%88%E3%81%AE%E4%BB%8A%E3%81%BE%E3%81%A7%E3%81%AE%E8%A8%98%E4%BA%8B%E3%81%A8%E3%80%81%E4%BB%8A%E5%BE%8C%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\" aria-hidden=\"true\"></a> このサイトの今までの記事と、今後について</h2>\n<p data-line=\"48\" class=\"code-line\">今までこのサイトは、Hexo -&gt; Hugo とリニューアルしてきたんだけど、どちらも Markdown で書けるし、移行も容易だった記憶がある。</p>\n<p data-line=\"50\" class=\"code-line\">Next.jsで作ったこのサイトにも記事を移行しようと思えばできたんだけど、最後に記事書いたのがすでに４年前という状況なので、<br />\n時間の流れが早すぎることに絶望を感じながら、これいるか？という自問自答をした結果、技術的な内容でって縛りを設けずゆるく文章書くサイトにするか。<br />\nという気持ちになり心機一転、全部記事消すことにした。</p>\n<p data-line=\"54\" class=\"code-line\">過去に書いた記事で、今後参考になりそうなものがそもそもなかったというのもある。</p>\n<p data-line=\"56\" class=\"code-line\">今後は、ゆるく適当な記事を書いていきたいし、新しいこといっぱいやってきたのにそれが残ってないので、そういうのも残せるようにしたいなーと思っている。</p>\n<p data-line=\"58\" class=\"code-line\">詳しいことはAboutページ作ってあるのでそっちを見てほしい</p>\n<ul data-line=\"60\" class=\"code-line\">\n<li data-line=\"60\" class=\"code-line\"><a href=\"http://nagatani.github.io/posts/about\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">About | Memorandum</a></li>\n</ul>\n<p data-line=\"62\" class=\"code-line\">以上</p>\n","excerpt":"Next.jsをそこまで使っていなかったので、ここらでなんか作っておくか。という気持ち"}},"__N_SSG":true}